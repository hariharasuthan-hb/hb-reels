@tailwind base;
@tailwind components;
@tailwind utilities;

/* Tamil Font Support with Emoji */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap');

@font-face {
    font-family: 'NotoSansTamil';
    src: url('/storage/fonts/NotoSansTamil-Regular.ttf') format('truetype');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

/* Emoji font support */
@font-face {
    font-family: 'NotoColorEmoji';
    src: url('https://fonts.gstatic.com/s/notocoloremoji/v28/Yq6P-KqIXTD0b86-hyw.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

/* Tamil text styling with emoji support */
.tamil-text, .font-tamil {
    font-family: 'Noto Sans Tamil', 'NotoSansTamil', -apple-system, BlinkMacSystemFont, 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', Roboto, sans-serif;
    font-feature-settings: "liga" 1, "kern" 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Ensure emoji rendering */
    text-rendering: optimizeSpeed;
}

/* Emoji-specific styling */
.emoji-text {
    font-variant-emoji: unicode;
}

/* Ensure Tamil characters and emojis render properly globally */
* {
    text-rendering: optimizeLegibility;
}

/* Emoji rendering improvements */
.emoji-support {
    font-variant-emoji: emoji;
    text-rendering: optimizeSpeed;
}

/* Better emoji support for different browsers */
@supports (-webkit-appearance: none) {
    .tamil-text, .font-tamil {
        font-variant-emoji: emoji;
    }
}

/* Emoji-specific CSS for better rendering */
span.emoji {
    font-family: 'Noto Color Emoji', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
    font-variant-emoji: emoji;
    text-rendering: optimizeSpeed;
}

/* Ensure emoji sequences render properly */
.emoji-sequence {
    font-variant-emoji: emoji;
    letter-spacing: 0;
    word-spacing: 0;
}

/* Better emoji support for complex emoji sequences */
.tamil-text:has-content("ðŸŽ‚"), .tamil-text:has-content("ðŸ¥³"), .tamil-text:has-content("ðŸŽ‰") {
    font-variant-emoji: emoji;
}

/* Emoji fallback for older browsers */
@supports not (font-variant-emoji: emoji) {
    .tamil-text {
        font-family: 'Noto Sans Tamil', 'Noto Color Emoji', 'Apple Color Emoji', Arial, sans-serif;
    }
}

/* Form inputs with Tamil text and emoji support */
input.tamil-text, textarea.tamil-text, select.tamil-text {
    font-family: 'Noto Sans Tamil', 'NotoSansTamil', -apple-system, BlinkMacSystemFont, 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', Roboto, sans-serif;
    font-variant-emoji: emoji;
}

/* Fallback for browsers that don't support font-display */
@supports not (font-display: swap) {
    .tamil-text, .font-tamil {
        font-family: 'Noto Sans Tamil', Arial, sans-serif;
    }
}
